{
  "version": 3,
  "sources": ["src/app/pages/parent-wallet.ts"],
  "sourcesContent": ["import { Component, inject, signal, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ParentLayoutComponent } from '../layouts/parent-layout';\nimport { AuthService } from '../services/auth.service';\nimport { FirestoreService } from '../services/firestore.service';\nimport { Wallet, Transaction } from '../models/interfaces';\n\n@Component({\n  selector: 'app-parent-wallet',\n  standalone: true,\n  imports: [CommonModule, ParentLayoutComponent],\n  template: `\n    <app-parent-layout>\n      <div class=\"animate-fade-in\">\n        <h1 class=\"text-2xl font-bold font-heading tracking-tight mb-2\" data-testid=\"wallet-heading\">Wallet</h1>\n        <p class=\"text-sm mb-8\" style=\"color: var(--fg-muted)\">{{ auth.selectedKid()?.name }}'s financial overview</p>\n\n        @if (wallet()) {\n          <div class=\"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8\">\n            <div class=\"card p-5\"><p class=\"text-xs\" style=\"color: var(--fg-muted)\">Balance</p><p class=\"text-2xl font-bold font-heading\">{{ wallet()!.balance }}</p></div>\n            <div class=\"card p-5\"><p class=\"text-xs\" style=\"color: var(--fg-muted)\">Earned</p><p class=\"text-2xl font-bold font-heading text-secondary\">{{ wallet()!.total_earned }}</p></div>\n            <div class=\"card p-5\"><p class=\"text-xs\" style=\"color: var(--fg-muted)\">Spent</p><p class=\"text-2xl font-bold font-heading text-red-400\">{{ wallet()!.total_spent }}</p></div>\n            <div class=\"card p-5\"><p class=\"text-xs\" style=\"color: var(--fg-muted)\">Saved</p><p class=\"text-2xl font-bold font-heading text-primary\">{{ wallet()!.total_saved }}</p></div>\n          </div>\n        }\n\n        <div class=\"card p-6\">\n          <h3 class=\"text-sm font-semibold font-heading mb-4\">Transaction History</h3>\n          @if (transactions().length === 0) {\n            <p class=\"text-sm text-center py-8\" style=\"color: var(--fg-muted)\">No transactions yet</p>\n          }\n          <div class=\"space-y-3\">\n            @for (txn of transactions(); track txn.id) {\n              <div class=\"flex items-center justify-between p-3 rounded-xl\" style=\"background-color: var(--muted)\">\n                <div>\n                  <p class=\"text-sm font-medium\">{{ txn.description }}</p>\n                  <p class=\"text-[10px]\" style=\"color: var(--fg-muted)\">{{ txn.created_at | date:'short' }} &middot; {{ txn.category }}</p>\n                </div>\n                <span class=\"text-sm font-bold\" [style.color]=\"txn.type === 'credit' ? '#34D399' : '#F87171'\">\n                  {{ txn.type === 'credit' ? '+' : '-' }}{{ txn.amount }}\n                </span>\n              </div>\n            }\n          </div>\n        </div>\n      </div>\n    </app-parent-layout>\n  `\n})\nexport class ParentWalletPage implements OnInit {\n  auth = inject(AuthService);\n  private fs = inject(FirestoreService);\n  wallet = signal<Wallet | null>(null);\n  transactions = signal<Transaction[]>([]);\n\n  async ngOnInit() {\n    const kid = this.auth.selectedKid();\n    if (!kid) return;\n    const [w, t] = await Promise.all([this.fs.getWallet(kid.id), this.fs.getTransactions(kid.id)]);\n    this.wallet.set(w);\n    this.transactions.set(t);\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
