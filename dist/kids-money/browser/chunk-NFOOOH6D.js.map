{
  "version": 3,
  "sources": ["src/app/pages/kid-sip.ts"],
  "sourcesContent": ["import { Component, inject, signal, OnInit, computed } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { KidLayoutComponent } from '../layouts/kid-layout';\nimport { AuthService } from '../services/auth.service';\nimport { FirestoreService } from '../services/firestore.service';\nimport { SIP } from '../models/interfaces';\nimport { KID_THEMES } from '../constants/app-data';\n\n@Component({\n  selector: 'app-kid-sip',\n  standalone: true,\n  imports: [CommonModule, KidLayoutComponent],\n  template: `\n    <app-kid-layout>\n      <div class=\"animate-fade-in\">\n        <h1 class=\"text-2xl font-bold font-heading tracking-tight mb-2\" data-testid=\"kid-sip-heading\">My Investments</h1>\n        <p class=\"text-sm mb-6\" style=\"color: var(--fg-muted)\">Watch your money grow!</p>\n\n        @if (sips().length === 0) {\n          <div class=\"card p-12 text-center\"><p class=\"text-sm\" style=\"color: var(--fg-muted)\">No investments yet. Ask your parent to set one up!</p></div>\n        }\n\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          @for (sip of sips(); track sip.id) {\n            <div class=\"card p-6\" [attr.data-testid]=\"'kid-sip-' + sip.id\">\n              <div class=\"flex items-center justify-between mb-3\">\n                <p class=\"font-semibold font-heading text-sm\">{{ sip.amount }} coins/{{ sip.frequency }}</p>\n                <span class=\"badge text-[10px]\" [style.background-color]=\"sip.status === 'active' ? theme().primary + '15' : '#FCD34D20'\" [style.color]=\"sip.status === 'active' ? theme().primary : '#FCD34D'\">{{ sip.status }}</span>\n              </div>\n              <div class=\"grid grid-cols-3 gap-2 text-center mb-3\">\n                <div class=\"p-2 rounded-xl\" style=\"background-color: var(--muted)\"><p class=\"text-[10px]\" style=\"color: var(--fg-muted)\">Invested</p><p class=\"text-sm font-bold\">{{ sip.total_invested }}</p></div>\n                <div class=\"p-2 rounded-xl\" style=\"background-color: var(--muted)\"><p class=\"text-[10px]\" style=\"color: var(--fg-muted)\">Value</p><p class=\"text-sm font-bold\" [style.color]=\"theme().primary\">{{ sip.current_value.toFixed(0) }}</p></div>\n                <div class=\"p-2 rounded-xl\" style=\"background-color: var(--muted)\"><p class=\"text-[10px]\" style=\"color: var(--fg-muted)\">Gain</p><p class=\"text-sm font-bold text-secondary\">+{{ (sip.current_value - sip.total_invested).toFixed(0) }}</p></div>\n              </div>\n              @if (sip.status === 'active') {\n                <button (click)=\"paySIP(sip)\" class=\"btn-primary w-full text-xs py-2\" [attr.data-testid]=\"'kid-pay-sip-' + sip.id\">Pay {{ sip.amount }} Coins</button>\n              }\n            </div>\n          }\n        </div>\n      </div>\n    </app-kid-layout>\n  `\n})\nexport class KidSIPPage implements OnInit {\n  auth = inject(AuthService);\n  private fs = inject(FirestoreService);\n  sips = signal<SIP[]>([]);\n  theme = computed(() => KID_THEMES[this.auth.kidSession()?.kid?.ui_theme || 'neutral'] || KID_THEMES['neutral']);\n\n  async ngOnInit() {\n    const kid = this.auth.kidSession()?.kid;\n    if (kid) this.sips.set(await this.fs.getSIPs(kid.id));\n  }\n\n  async paySIP(sip: SIP) {\n    const kid = this.auth.kidSession()?.kid;\n    if (!kid) return;\n    try { await this.fs.paySIP(sip.id, kid.id); this.sips.set(await this.fs.getSIPs(kid.id)); } catch (e: any) { alert(e.message); }\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
