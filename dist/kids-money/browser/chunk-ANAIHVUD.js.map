{
  "version": 3,
  "sources": ["src/app/pages/kid-tasks.ts"],
  "sourcesContent": ["import { Component, inject, signal, OnInit, computed } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { KidLayoutComponent } from '../layouts/kid-layout';\nimport { AuthService } from '../services/auth.service';\nimport { FirestoreService } from '../services/firestore.service';\nimport { Task } from '../models/interfaces';\nimport { KID_THEMES } from '../constants/app-data';\n\n@Component({\n  selector: 'app-kid-tasks',\n  standalone: true,\n  imports: [CommonModule, KidLayoutComponent],\n  template: `\n    <app-kid-layout>\n      <div class=\"animate-fade-in\">\n        <h1 class=\"text-2xl font-bold font-heading tracking-tight mb-2\" data-testid=\"kid-tasks-heading\">My Tasks</h1>\n        <p class=\"text-sm mb-6\" style=\"color: var(--fg-muted)\">Complete tasks to earn coins!</p>\n\n        @if (tasks().length === 0) {\n          <div class=\"card p-12 text-center\"><p class=\"text-sm\" style=\"color: var(--fg-muted)\">No tasks assigned yet. Ask your parent to create some!</p></div>\n        }\n\n        <div class=\"space-y-3\">\n          @for (task of tasks(); track task.id) {\n            <div class=\"card p-5\" [attr.data-testid]=\"'kid-task-' + task.id\">\n              <div class=\"flex items-center justify-between\">\n                <div>\n                  <p class=\"font-semibold text-sm\">{{ task.title }}</p>\n                  <p class=\"text-xs mt-1\" style=\"color: var(--fg-muted)\">{{ task.description || 'Complete this task' }}</p>\n                  <p class=\"text-xs mt-1 font-bold\" [style.color]=\"theme().primary\">+{{ task.reward_amount }} coins</p>\n                </div>\n                <div>\n                  @if (task.status === 'pending') {\n                    <button (click)=\"completeTask(task.id)\" class=\"text-xs px-4 py-2 rounded-full text-white font-medium\" [style.background-color]=\"theme().primary\" [attr.data-testid]=\"'complete-task-' + task.id\">Done!</button>\n                  } @else if (task.status === 'completed') {\n                    <span class=\"badge text-[10px]\" style=\"background-color: #4F7DF320; color: #4F7DF3\">Waiting Approval</span>\n                  } @else if (task.status === 'approved') {\n                    <span class=\"badge text-[10px]\" style=\"background-color: #34D39920; color: #34D399\">Approved</span>\n                  } @else {\n                    <span class=\"badge text-[10px]\" style=\"background-color: #F8717120; color: #F87171\">Rejected</span>\n                  }\n                </div>\n              </div>\n            </div>\n          }\n        </div>\n      </div>\n    </app-kid-layout>\n  `\n})\nexport class KidTasksPage implements OnInit {\n  auth = inject(AuthService);\n  private fs = inject(FirestoreService);\n  tasks = signal<Task[]>([]);\n  theme = computed(() => KID_THEMES[this.auth.kidSession()?.kid?.ui_theme || 'neutral'] || KID_THEMES['neutral']);\n\n  async ngOnInit() {\n    const kid = this.auth.kidSession()?.kid;\n    if (kid) this.tasks.set(await this.fs.getTasks(kid.id));\n  }\n\n  async completeTask(id: string) {\n    const kid = this.auth.kidSession()?.kid;\n    if (!kid) return;\n    await this.fs.completeTask(id, kid.id);\n    this.tasks.set(await this.fs.getTasks(kid.id));\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
