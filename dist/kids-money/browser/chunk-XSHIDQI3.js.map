{
  "version": 3,
  "sources": ["src/app/pages/kid-wallet.ts"],
  "sourcesContent": ["import { Component, inject, signal, OnInit, computed } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { KidLayoutComponent } from '../layouts/kid-layout';\nimport { AuthService } from '../services/auth.service';\nimport { FirestoreService } from '../services/firestore.service';\nimport { Wallet, Transaction } from '../models/interfaces';\nimport { KID_THEMES } from '../constants/app-data';\n\n@Component({\n  selector: 'app-kid-wallet',\n  standalone: true,\n  imports: [CommonModule, KidLayoutComponent],\n  template: `\n    <app-kid-layout>\n      <div class=\"animate-fade-in\">\n        <h1 class=\"text-2xl font-bold font-heading tracking-tight mb-2\" data-testid=\"kid-wallet-heading\">My Wallet</h1>\n        <p class=\"text-sm mb-6\" style=\"color: var(--fg-muted)\">Your money at a glance</p>\n\n        @if (wallet()) {\n          <div class=\"card p-8 mb-6 text-center\" [style.border-color]=\"theme().primary + '30'\">\n            <p class=\"text-sm\" style=\"color: var(--fg-muted)\">Current Balance</p>\n            <p class=\"text-4xl font-bold font-heading mt-1\" [style.color]=\"theme().primary\">{{ wallet()!.balance }}</p>\n            <p class=\"text-xs mt-1\" style=\"color: var(--fg-muted)\">coins</p>\n          </div>\n\n          <div class=\"grid grid-cols-3 gap-3 mb-6\">\n            <div class=\"card p-4 text-center\"><p class=\"text-lg font-bold font-heading text-secondary\">{{ wallet()!.total_earned }}</p><p class=\"text-[10px]\" style=\"color: var(--fg-muted)\">Earned</p></div>\n            <div class=\"card p-4 text-center\"><p class=\"text-lg font-bold font-heading text-red-400\">{{ wallet()!.total_spent }}</p><p class=\"text-[10px]\" style=\"color: var(--fg-muted)\">Spent</p></div>\n            <div class=\"card p-4 text-center\"><p class=\"text-lg font-bold font-heading text-primary\">{{ wallet()!.total_saved }}</p><p class=\"text-[10px]\" style=\"color: var(--fg-muted)\">Saved</p></div>\n          </div>\n        }\n\n        <div class=\"card p-5\">\n          <h3 class=\"text-sm font-semibold font-heading mb-4\">Transaction History</h3>\n          @if (transactions().length === 0) {\n            <p class=\"text-sm text-center py-8\" style=\"color: var(--fg-muted)\">No transactions yet</p>\n          }\n          @for (txn of transactions(); track txn.id) {\n            <div class=\"flex items-center justify-between py-3 border-b\" style=\"border-color: var(--border)\">\n              <div><p class=\"text-sm\">{{ txn.description }}</p><p class=\"text-[10px]\" style=\"color: var(--fg-muted)\">{{ txn.created_at | date:'short' }}</p></div>\n              <span class=\"text-sm font-bold\" [style.color]=\"txn.type === 'credit' ? '#34D399' : '#F87171'\">{{ txn.type === 'credit' ? '+' : '-' }}{{ txn.amount }}</span>\n            </div>\n          }\n        </div>\n      </div>\n    </app-kid-layout>\n  `\n})\nexport class KidWalletPage implements OnInit {\n  auth = inject(AuthService);\n  private fs = inject(FirestoreService);\n  wallet = signal<Wallet | null>(null);\n  transactions = signal<Transaction[]>([]);\n  theme = computed(() => KID_THEMES[this.auth.kidSession()?.kid?.ui_theme || 'neutral'] || KID_THEMES['neutral']);\n\n  async ngOnInit() {\n    const kid = this.auth.kidSession()?.kid;\n    if (!kid) return;\n    const [w, t] = await Promise.all([this.fs.getWallet(kid.id), this.fs.getTransactions(kid.id)]);\n    this.wallet.set(w); this.transactions.set(t);\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
