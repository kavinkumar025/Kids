{
  "version": 3,
  "sources": ["src/app/pages/kid-achievements.ts"],
  "sourcesContent": ["import { Component, inject, signal, OnInit, computed } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { KidLayoutComponent } from '../layouts/kid-layout';\nimport { AuthService } from '../services/auth.service';\nimport { FirestoreService } from '../services/firestore.service';\nimport { KID_THEMES, getLevelForXp, LEVELS } from '../constants/app-data';\n\n@Component({\n  selector: 'app-kid-achievements',\n  standalone: true,\n  imports: [CommonModule, KidLayoutComponent],\n  template: `\n    <app-kid-layout>\n      <div class=\"animate-fade-in\">\n        <h1 class=\"text-2xl font-bold font-heading tracking-tight mb-2\" data-testid=\"kid-achievements-heading\">Achievements</h1>\n        <p class=\"text-sm mb-6\" style=\"color: var(--fg-muted)\">Your badges and progress</p>\n\n        @if (data(); as d) {\n          <!-- Level Progress -->\n          <div class=\"card p-6 mb-6\" [style.border-color]=\"theme().primary + '30'\">\n            <h3 class=\"text-sm font-semibold font-heading mb-4\">Level Progress</h3>\n            <div class=\"grid grid-cols-5 gap-2\">\n              @for (level of levels; track level.level) {\n                <div class=\"text-center p-2 rounded-xl transition-all\"\n                     [style.background-color]=\"d.level_info.level >= level.level ? theme().primary + '15' : 'var(--muted)'\"\n                     [style.opacity]=\"d.level_info.level >= level.level ? '1' : '0.5'\">\n                  <p class=\"text-lg font-bold\" [style.color]=\"d.level_info.level >= level.level ? theme().primary : 'var(--fg-muted)'\">{{ level.level }}</p>\n                  <p class=\"text-[8px] truncate\" style=\"color: var(--fg-muted)\">{{ level.name }}</p>\n                </div>\n              }\n            </div>\n          </div>\n\n          <!-- Stats -->\n          <div class=\"grid grid-cols-2 lg:grid-cols-3 gap-3 mb-6\">\n            <div class=\"card p-4 text-center\"><p class=\"text-xl font-bold font-heading\" [style.color]=\"theme().primary\">{{ d.xp }}</p><p class=\"text-[10px]\" style=\"color: var(--fg-muted)\">Total XP</p></div>\n            <div class=\"card p-4 text-center\"><p class=\"text-xl font-bold font-heading\" [style.color]=\"creditColor(d.credit_score)\">{{ d.credit_score }}</p><p class=\"text-[10px]\" style=\"color: var(--fg-muted)\">Credit Score</p></div>\n            <div class=\"card p-4 text-center\"><p class=\"text-xl font-bold font-heading\">{{ d.stats.tasks_completed }}</p><p class=\"text-[10px]\" style=\"color: var(--fg-muted)\">Tasks Done</p></div>\n            <div class=\"card p-4 text-center\"><p class=\"text-xl font-bold font-heading\">{{ d.stats.stories_read }}</p><p class=\"text-[10px]\" style=\"color: var(--fg-muted)\">Stories Read</p></div>\n            <div class=\"card p-4 text-center\"><p class=\"text-xl font-bold font-heading\">{{ d.stats.goals_achieved }}</p><p class=\"text-[10px]\" style=\"color: var(--fg-muted)\">Goals Done</p></div>\n            <div class=\"card p-4 text-center\"><p class=\"text-xl font-bold font-heading\">{{ d.stats.sip_payments }}</p><p class=\"text-[10px]\" style=\"color: var(--fg-muted)\">SIP Payments</p></div>\n          </div>\n\n          <!-- Badges -->\n          <div class=\"card p-6\">\n            <h3 class=\"text-sm font-semibold font-heading mb-4\">Badges Earned ({{ d.badges.length }})</h3>\n            @if (d.badges.length === 0) {\n              <p class=\"text-sm text-center py-6\" style=\"color: var(--fg-muted)\">Complete tasks, read stories, and save to earn badges!</p>\n            }\n            <div class=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n              @for (badge of d.badges; track badge.name) {\n                <div class=\"text-center p-4 rounded-2xl\" [style.background-color]=\"theme().primary + '10'\">\n                  <div class=\"w-12 h-12 rounded-full mx-auto mb-2 flex items-center justify-center\" [style.background-color]=\"theme().primary + '20'\">\n                    <svg class=\"w-6 h-6\" [style.color]=\"theme().primary\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><circle cx=\"12\" cy=\"8\" r=\"7\" stroke-width=\"2\"/><polyline points=\"8.21 13.89 7 23 12 20 17 23 15.79 13.88\" stroke-width=\"2\"/></svg>\n                  </div>\n                  <p class=\"text-xs font-bold\">{{ badge.name }}</p>\n                  <p class=\"text-[10px]\" style=\"color: var(--fg-muted)\">{{ badge.desc }}</p>\n                </div>\n              }\n            </div>\n          </div>\n        } @else {\n          <div class=\"flex items-center justify-center h-64\">\n            <div class=\"w-8 h-8 border-2 border-t-transparent rounded-full animate-spin\" [style.border-color]=\"theme().primary\"></div>\n          </div>\n        }\n      </div>\n    </app-kid-layout>\n  `\n})\nexport class KidAchievementsPage implements OnInit {\n  auth = inject(AuthService);\n  private fs = inject(FirestoreService);\n  data = signal<any>(null);\n  levels = LEVELS;\n  theme = computed(() => KID_THEMES[this.auth.kidSession()?.kid?.ui_theme || 'neutral'] || KID_THEMES['neutral']);\n\n  async ngOnInit() {\n    const kid = this.auth.kidSession()?.kid;\n    if (kid) this.data.set(await this.fs.getKidAchievements(kid.id));\n  }\n\n  creditColor(score: number) { return score >= 700 ? '#34D399' : score >= 400 ? '#FCD34D' : '#F87171'; }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuBgB,IAAA,yBAAA,GAAA,OAAA,EAAA,EAEuE,GAAA,KAAA,EAAA;AACgD,IAAA,iBAAA,CAAA;AAAiB,IAAA,uBAAA;AACtI,IAAA,yBAAA,GAAA,KAAA,EAAA;AAA8D,IAAA,iBAAA,CAAA;AAAgB,IAAA,uBAAA,EAAI;;;;;;AAH/E,IAAA,sBAAA,oBAAA,KAAA,WAAA,SAAA,SAAA,QAAA,OAAA,MAAA,EAAA,UAAA,OAAA,cAAA,EAAsG,WAAA,KAAA,WAAA,SAAA,SAAA,QAAA,MAAA,KAAA;AAE5E,IAAA,oBAAA;AAAA,IAAA,sBAAA,SAAA,KAAA,WAAA,SAAA,SAAA,QAAA,OAAA,MAAA,EAAA,UAAA,iBAAA;AAAwF,IAAA,oBAAA;AAAA,IAAA,4BAAA,SAAA,KAAA;AACvD,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,SAAA,IAAA;;;;;AAoBlE,IAAA,yBAAA,GAAA,KAAA,EAAA;AAAmE,IAAA,iBAAA,GAAA,wDAAA;AAAsD,IAAA,uBAAA;;;;;AAIvH,IAAA,yBAAA,GAAA,OAAA,EAAA,EAA2F,GAAA,OAAA,EAAA;;AAEvF,IAAA,yBAAA,GAAA,OAAA,EAAA;AAA2G,IAAA,oBAAA,GAAA,UAAA,EAAA,EAA+C,GAAA,YAAA,EAAA;AAA6E,IAAA,uBAAA,EAAM;;AAE/O,IAAA,yBAAA,GAAA,KAAA,EAAA;AAA6B,IAAA,iBAAA,CAAA;AAAgB,IAAA,uBAAA;AAC7C,IAAA,yBAAA,GAAA,KAAA,EAAA;AAAsD,IAAA,iBAAA,CAAA;AAAgB,IAAA,uBAAA,EAAI;;;;;AALnC,IAAA,sBAAA,oBAAA,OAAA,MAAA,EAAA,UAAA,IAAA;AAC2C,IAAA,oBAAA;AAAA,IAAA,sBAAA,oBAAA,OAAA,MAAA,EAAA,UAAA,IAAA;AAC3D,IAAA,oBAAA;AAAA,IAAA,sBAAA,SAAA,OAAA,MAAA,EAAA,OAAA;AAEM,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,SAAA,IAAA;AACyB,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,SAAA,IAAA;;;;;AArC9D,IAAA,yBAAA,GAAA,OAAA,CAAA,EAAyE,GAAA,MAAA,CAAA;AACnB,IAAA,iBAAA,GAAA,gBAAA;AAAc,IAAA,uBAAA;AAClE,IAAA,yBAAA,GAAA,OAAA,CAAA;AACE,IAAA,2BAAA,GAAA,kDAAA,GAAA,GAAA,OAAA,GAAA,UAAA;AAQF,IAAA,uBAAA,EAAM;AAIR,IAAA,yBAAA,GAAA,OAAA,CAAA,EAAwD,GAAA,OAAA,CAAA,EACpB,GAAA,KAAA,EAAA;AAA0E,IAAA,iBAAA,CAAA;AAAU,IAAA,uBAAA;AAAI,IAAA,yBAAA,IAAA,KAAA,EAAA;AAAsD,IAAA,iBAAA,IAAA,UAAA;AAAQ,IAAA,uBAAA,EAAI;AAC5L,IAAA,yBAAA,IAAA,OAAA,CAAA,EAAkC,IAAA,KAAA,EAAA;AAAsF,IAAA,iBAAA,EAAA;AAAoB,IAAA,uBAAA;AAAI,IAAA,yBAAA,IAAA,KAAA,EAAA;AAAsD,IAAA,iBAAA,IAAA,cAAA;AAAY,IAAA,uBAAA,EAAI;AACtN,IAAA,yBAAA,IAAA,OAAA,CAAA,EAAkC,IAAA,KAAA,EAAA;AAA0C,IAAA,iBAAA,EAAA;AAA6B,IAAA,uBAAA;AAAI,IAAA,yBAAA,IAAA,KAAA,EAAA;AAAsD,IAAA,iBAAA,IAAA,YAAA;AAAU,IAAA,uBAAA,EAAI;AACjL,IAAA,yBAAA,IAAA,OAAA,CAAA,EAAkC,IAAA,KAAA,EAAA;AAA0C,IAAA,iBAAA,EAAA;AAA0B,IAAA,uBAAA;AAAI,IAAA,yBAAA,IAAA,KAAA,EAAA;AAAsD,IAAA,iBAAA,IAAA,cAAA;AAAY,IAAA,uBAAA,EAAI;AAChL,IAAA,yBAAA,IAAA,OAAA,CAAA,EAAkC,IAAA,KAAA,EAAA;AAA0C,IAAA,iBAAA,EAAA;AAA4B,IAAA,uBAAA;AAAI,IAAA,yBAAA,IAAA,KAAA,EAAA;AAAsD,IAAA,iBAAA,IAAA,YAAA;AAAU,IAAA,uBAAA,EAAI;AAChL,IAAA,yBAAA,IAAA,OAAA,CAAA,EAAkC,IAAA,KAAA,EAAA;AAA0C,IAAA,iBAAA,EAAA;AAA0B,IAAA,uBAAA;AAAI,IAAA,yBAAA,IAAA,KAAA,EAAA;AAAsD,IAAA,iBAAA,IAAA,cAAA;AAAY,IAAA,uBAAA,EAAI,EAAM;AAIxL,IAAA,yBAAA,IAAA,OAAA,EAAA,EAAsB,IAAA,MAAA,CAAA;AACgC,IAAA,iBAAA,EAAA;AAAqC,IAAA,uBAAA;AACzF,IAAA,8BAAA,IAAA,2DAAA,GAAA,GAAA,KAAA,EAAA;AAGA,IAAA,yBAAA,IAAA,OAAA,EAAA;AACE,IAAA,2BAAA,IAAA,mDAAA,GAAA,GAAA,OAAA,IAAA,UAAA;AASF,IAAA,uBAAA,EAAM;;;;;AAxCmB,IAAA,sBAAA,gBAAA,OAAA,MAAA,EAAA,UAAA,IAAA;AAGvB,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,OAAA,MAAA;AAa0E,IAAA,oBAAA,CAAA;AAAA,IAAA,sBAAA,SAAA,OAAA,MAAA,EAAA,OAAA;AAAgC,IAAA,oBAAA;AAAA,IAAA,4BAAA,KAAA,EAAA;AAChC,IAAA,oBAAA,CAAA;AAAA,IAAA,sBAAA,SAAA,OAAA,YAAA,KAAA,YAAA,CAAA;AAA4C,IAAA,oBAAA;AAAA,IAAA,4BAAA,KAAA,YAAA;AAC5C,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,KAAA,MAAA,eAAA;AACA,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,KAAA,MAAA,YAAA;AACA,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,KAAA,MAAA,cAAA;AACA,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,KAAA,MAAA,YAAA;AAKxB,IAAA,oBAAA,CAAA;AAAA,IAAA,6BAAA,mBAAA,KAAA,OAAA,QAAA,GAAA;AACpD,IAAA,oBAAA;AAAA,IAAA,wBAAA,KAAA,OAAA,WAAA,IAAA,KAAA,EAAA;AAIE,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,KAAA,MAAA;;;;;AAYJ,IAAA,yBAAA,GAAA,OAAA,CAAA;AACE,IAAA,oBAAA,GAAA,OAAA,EAAA;AACF,IAAA,uBAAA;;;;AAD+E,IAAA,oBAAA;AAAA,IAAA,sBAAA,gBAAA,OAAA,MAAA,EAAA,OAAA;;;AAOnF,IAAO,sBAAP,MAAO,qBAAmB;EAC9B,OAAO,OAAO,WAAW;EACjB,KAAK,OAAO,gBAAgB;EACpC,OAAO,OAAY,MAAI,GAAA,YAAA,CAAA,EAAA,WAAA,OAAA,CAAA,IAAA,CAAA,CAAA;EACvB,SAAS;EACT,QAAQ,SAAS,MAAM,WAAW,KAAK,KAAK,WAAU,GAAI,KAAK,YAAY,SAAS,KAAK,WAAW,SAAS,GAAC,GAAA,YAAA,CAAA,EAAA,WAAA,QAAA,CAAA,IAAA,CAAA,CAAA;EAExG,WAAQ;;AACZ,YAAM,MAAM,KAAK,KAAK,WAAU,GAAI;AACpC,UAAI;AAAK,aAAK,KAAK,IAAI,MAAM,KAAK,GAAG,mBAAmB,IAAI,EAAE,CAAC;IACjE;;EAEA,YAAY,OAAa;AAAI,WAAO,SAAS,MAAM,YAAY,SAAS,MAAM,YAAY;EAAW;;qCAZ1F,sBAAmB;EAAA;yEAAnB,sBAAmB,WAAA,CAAA,CAAA,sBAAA,CAAA,GAAA,OAAA,GAAA,MAAA,GAAA,QAAA,CAAA,CAAA,GAAA,iBAAA,GAAA,CAAA,eAAA,4BAAA,GAAA,YAAA,aAAA,gBAAA,kBAAA,MAAA,GAAA,CAAA,GAAA,WAAA,QAAA,GAAA,SAAA,iBAAA,GAAA,CAAA,GAAA,QAAA,gBAAA,kBAAA,MAAA,GAAA,CAAA,GAAA,QAAA,OAAA,MAAA,GAAA,CAAA,GAAA,WAAA,iBAAA,gBAAA,MAAA,GAAA,CAAA,GAAA,QAAA,eAAA,OAAA,GAAA,CAAA,GAAA,eAAA,OAAA,cAAA,kBAAA,GAAA,oBAAA,SAAA,GAAA,CAAA,GAAA,QAAA,eAAA,kBAAA,SAAA,MAAA,GAAA,CAAA,GAAA,QAAA,OAAA,aAAA,GAAA,CAAA,GAAA,WAAA,aAAA,cAAA,GAAA,CAAA,GAAA,eAAA,GAAA,SAAA,iBAAA,GAAA,CAAA,GAAA,QAAA,KAAA,GAAA,CAAA,GAAA,WAAA,eAAA,QAAA,GAAA,SAAA,iBAAA,GAAA,CAAA,GAAA,QAAA,eAAA,kBAAA,OAAA,GAAA,CAAA,GAAA,eAAA,OAAA,eAAA,GAAA,kBAAA,GAAA,CAAA,GAAA,eAAA,OAAA,cAAA,gBAAA,GAAA,CAAA,GAAA,WAAA,WAAA,GAAA,CAAA,GAAA,cAAA,YAAA,GAAA,SAAA,iBAAA,GAAA,CAAA,GAAA,eAAA,OAAA,aAAA,GAAA,CAAA,GAAA,QAAA,QAAA,gBAAA,WAAA,QAAA,QAAA,gBAAA,gBAAA,GAAA,CAAA,QAAA,QAAA,UAAA,gBAAA,WAAA,aAAA,GAAA,OAAA,KAAA,GAAA,CAAA,MAAA,MAAA,MAAA,KAAA,KAAA,KAAA,gBAAA,GAAA,GAAA,CAAA,UAAA,2CAAA,gBAAA,GAAA,GAAA,CAAA,GAAA,WAAA,WAAA,GAAA,CAAA,GAAA,OAAA,OAAA,YAAA,wBAAA,gBAAA,cAAA,CAAA,GAAA,UAAA,SAAA,6BAAA,IAAA,KAAA;AAAA,QAAA,KAAA,GAAA;AA1D5B,MAAA,yBAAA,GAAA,gBAAA,EAAgB,GAAA,OAAA,CAAA,EACe,GAAA,MAAA,CAAA;AAC4E,MAAA,iBAAA,GAAA,cAAA;AAAY,MAAA,uBAAA;AACnH,MAAA,yBAAA,GAAA,KAAA,CAAA;AAAuD,MAAA,iBAAA,GAAA,0BAAA;AAAwB,MAAA,uBAAA;AAE/E,MAAA,8BAAA,GAAA,4CAAA,IAAA,EAAA,EAAoB,GAAA,4CAAA,GAAA,GAAA,OAAA,CAAA;AAiDtB,MAAA,uBAAA,EAAM;;;;AAjDJ,MAAA,oBAAA,CAAA;AAAA,MAAA,yBAAA,UAAA,IAAA,KAAA,KAAA,IAAA,GAAA,OAAA;;oBAPI,cAAc,kBAAkB,GAAA,eAAA,EAAA,CAAA;;;sEA4D/B,qBAAmB,CAAA;UA/D/B;WAAU;MACT,UAAU;MACV,YAAY;MACZ,SAAS,CAAC,cAAc,kBAAkB;MAC1C,UAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KA0DX;;;;6EACY,qBAAmB,EAAA,WAAA,uBAAA,UAAA,qCAAA,YAAA,GAAA,CAAA;AAAA,GAAA;",
  "names": []
}
